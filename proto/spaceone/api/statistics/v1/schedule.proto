// A Schedule is a time schedule of when a User will use a query. 
syntax = "proto3";

package spaceone.api.statistics.v1;

option go_package = "github.com/cloudforet-io/api/dist/go/spaceone/api/statistics/v1";

import "google/protobuf/empty.proto";
import "google/protobuf/struct.proto";
import "google/api/annotations.proto";
import "spaceone/api/core/v1/query.proto";
import "spaceone/api/statistics/v1/resource.proto";


service Schedule {
    // Adds a new Schedule. When creating, `topic` and queries to be used should be specified. The time interval of the Schedule should be also specified to run queries repeatedly. The run set by Schedule starts every hour on the hour.
    rpc add (AddScheduleRequest) returns (ScheduleInfo) {
        option (google.api.http) = {
            post: "/statistics/v1/schedule/add"
            body: "*"
        };
    }
    
    // Updates a specific Schedule. You can make changes in Schedule settings, including time intervals.
    rpc update (UpdateScheduleRequest) returns (ScheduleInfo) {
        option (google.api.http) = {
            post: "/statistics/schedule/update"
            body: "*"
        };
    }
    
    // Enables a specific Schedule. If a Schedule is enabled, the query usage will be scheduled by the time interval specified.
    rpc enable (ScheduleRequest) returns (ScheduleInfo) {
        option (google.api.http) = {
            post: "/statistics/v1/schedule/enable"
            body: "*"
        };
    }
    
    // Disables a specific Schedule. If a Schedule is disabled, the query usage will not be scheduled.
    rpc disable (ScheduleRequest) returns (ScheduleInfo) {
        option (google.api.http) = {
            post: "/statistics/v1/schedule/disable"
            body: "*"
        };
    }
    
    // Deletes a specific Schedule. You must specify the `schedule_id` of the Schedule to delete.
    rpc delete (ScheduleRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            post: "/statistics/v1/schedule/delete"
            body: "*"
        };
    }
    
    // Gets a specific Schedule. Prints detailed information about the Schedule, including the schedule interval and `state`.
    rpc get (GetScheduleRequest) returns (ScheduleInfo) {
        option (google.api.http) = {
            post: "/statistics/v1/schedule/get"
            body: "*"
        };
    }
    
    // Gets a list of all Schedules. You can use a query to get a filtered list of Schedules.
    rpc list (ScheduleQuery) returns (SchedulesInfo) {
        option (google.api.http) = {
            post: "/statistics/v1/schedule/list"
            body: "*"
        };
    }
    
    rpc stat (ScheduleStatQuery) returns (google.protobuf.Struct) {
        option (google.api.http) = {
            post: "/statistics/v1/schedule/stat"
            body: "*"
        };
    }
}

message Scheduled {
    string cron = 1;
    int32 interval = 2;
    repeated int32 minutes = 3;
    repeated int32 hours = 4;
}

message QueryOption {
    StatAggregate aggregate = 1;
    // +optional
    StatPage page = 2;
}

//{
//    "topic": "daily_cloud_service_summary_test",
//    "options": {"aggregate": [{"query": {
//        "extend_data": {"label": "Server"}, "query": {
//            "filter": [{"key": "ref_cloud_service_type.is_primary", "value": true, "operator": "eq"},
//                       {"value": "Server", "operator": "eq", "key": "ref_cloud_service_type.labels"}],
//            "aggregate": [{"group": {
//                "fields": [
//                    {
//                        "name": "value",
//                        "operator": "count"}],
//                "keys": [
//                    {
//                        "name": "project_id",
//                        "key": "project_id"},
//                    {
//                        "key": "cloud_service_type",
//                        "name": "cloud_service_type"},
//                    {
//                        "key": "cloud_service_group",
//                        "name": "cloud_service_group"},
//                    {
//                        "key": "provider",
//                        "name": "provider"}]}}]},
//        "resource_type": "inventory.CloudService"}}, {"concat": {"resource_type": "inventory.CloudService", "query": {
//        "aggregate": [{"group": {"keys": [{"key": "project_id", "name": "project_id"},
//                                          {"name": "cloud_service_type", "key": "cloud_service_type"},
//                                          {"key": "cloud_service_group", "name": "cloud_service_group"},
//                                          {"key": "provider", "name": "provider"}],
//                                 "fields": [{"name": "value", "operator": "count"}]}}],
//        "filter": [{"value": true, "operator": "eq", "key": "ref_cloud_service_type.is_primary"},
//                   {"value": "Database", "operator": "eq", "key": "ref_cloud_service_type.labels"}]},
//                                                                 "extend_data": {"label": "Database"}}}, {"concat": {
//        "resource_type": "inventory.CloudService", "extend_data": {"label": "Container"}, "query": {
//            "filter": [{"value": true, "key": "ref_cloud_service_type.is_primary", "operator": "eq"},
//                       {"key": "ref_cloud_service_type.labels", "value": "Container", "operator": "eq"}],
//            "aggregate": [{
//                "group": {
//                    "fields": [
//                        {
//                            "name": "value",
//                            "operator": "count"}],
//                    "keys": [
//                        {
//                            "key": "project_id",
//                            "name": "project_id"},
//                        {
//                            "name": "cloud_service_type",
//                            "key": "cloud_service_type"},
//                        {
//                            "name": "cloud_service_group",
//                            "key": "cloud_service_group"},
//                        {
//                            "key": "provider",
//                            "name": "provider"}]}}]}}},
//        {"concat": {
//            "extend_data": {"label": "Networking"},
//            "query": {"aggregate": [{"group": {
//                "keys": [{"name": "project_id",
//                          "key": "project_id"}, {
//                             "key": "cloud_service_type",
//                             "name": "cloud_service_type"},
//                         {
//                             "key": "cloud_service_group",
//                             "name": "cloud_service_group"},
//                         {"key": "provider",
//                          "name": "provider"}],
//                "fields": [{"name": "value",
//                            "operator": "count"}]}}],
//                "filter": [{
//                    "key": "ref_cloud_service_type.is_primary",
//                    "operator": "eq",
//                    "value": true},
//                    {
//                        "key": "ref_cloud_service_type.labels",
//                        "value": "Networking",
//                        "operator": "eq"}]},
//            "resource_type": "inventory.CloudService"}},
//        {"concat": {
//            "resource_type": "inventory.CloudService",
//            "query": {"filter": [{
//                "key": "ref_cloud_service_type.is_primary",
//                "value": true,
//                "operator": "eq"},
//                {"operator": "eq",
//                 "value": "Security",
//                 "key": "ref_cloud_service_type.labels"}],
//                "aggregate": [{"group": {
//                    "keys": [
//                        {"key": "project_id",
//                         "name": "project_id"},
//                        {
//                            "key": "cloud_service_type",
//                            "name": "cloud_service_type"},
//                        {
//                            "name": "cloud_service_group",
//                            "key": "cloud_service_group"},
//                        {"key": "provider",
//                         "name": "provider"}],
//                    "fields": [
//                        {"name": "value",
//                         "operator": "count"}]}}]},
//            "extend_data": {"label": "Security"}}},
//        {"concat": {
//            "resource_type": "inventory.CloudService",
//            "extend_data": {"label": "Analytics"},
//            "query": {"filter": [{"value": true,
//                                  "key": "ref_cloud_service_type.is_primary",
//                                  "operator": "eq"},
//                                 {"operator": "eq",
//                                  "value": "Analytics",
//                                  "key": "ref_cloud_service_type.labels"}],
//                      "aggregate": [{"group": {
//                          "fields": [
//                              {"operator": "count",
//                               "name": "value"}],
//                          "keys": [
//                              {"name": "project_id",
//                               "key": "project_id"},
//                              {
//                                  "key": "cloud_service_type",
//                                  "name": "cloud_service_type"},
//                              {
//                                  "key": "cloud_service_group",
//                                  "name": "cloud_service_group"},
//                              {"key": "provider",
//                               "name": "provider"}]}}]}}},
//        {"concat": {
//            "resource_type": "inventory.CloudService",
//            "extend_data": {"label": "All"},
//            "query": {"aggregate": [{"group": {
//                "keys": [{"name": "project_id",
//                          "key": "project_id"}, {
//                             "name": "cloud_service_type",
//                             "key": "cloud_service_type"},
//                         {
//                             "name": "cloud_service_group",
//                             "key": "cloud_service_group"},
//                         {"key": "provider",
//                          "name": "provider"}],
//                "fields": [{"operator": "count",
//                            "name": "value"}]}}],
//                "filter": [{
//                    "key": "ref_cloud_service_type.is_primary",
//                    "operator": "eq",
//                    "value": true}]}}},
//        {"concat": {"query": {"filter": [
//            {"value": true, "operator": "eq",
//             "key": "ref_cloud_service_type.is_major"},
//            {"value": "Storage", "operator": "eq",
//             "key": "ref_cloud_service_type.labels"}],
//            "aggregate": [{
//                "group": {
//                    "fields": [
//                        {
//                            "name": "value",
//                            "key": "data.size",
//                            "operator": "sum"}],
//                    "keys": [
//                        {
//                            "name": "project_id",
//                            "key": "project_id"},
//                        {
//                            "name": "cloud_service_type",
//                            "key": "cloud_service_type"},
//                        {
//                            "key": "cloud_service_group",
//                            "name": "cloud_service_group"},
//                        {
//                            "key": "provider",
//                            "name": "provider"}]}}]},
//            "resource_type": "inventory.CloudService",
//            "extend_data": {
//                "label": "Storage"}
//        }}]},
//    "schedule": {"hours": [1]},
//    "tags": {},
//    "domain_id": "domain-58010aa2e451"}
message AddScheduleRequest {
    string topic = 1;
    google.protobuf.Struct options = 2;
    Scheduled schedule = 3;
    // +optional
    google.protobuf.Struct tags = 4;
    string user_id = 11;
    string domain_id = 12;
}

    
//{
//    "schedule_id": "sch-65bb6b55d162",
//    "schedule": {"hours": [2]},
//    "tags": {"a": "b"},
//    "domain_id": "domain-58010aa2e451"
//}
message UpdateScheduleRequest {
    string schedule_id = 1;
    // +optional
    Scheduled schedule = 2;
    // +optional
    google.protobuf.Struct tags = 3;
    string storage_id = 4;
    string domain_id = 11;
}

//{
//    "schedule_id": "sch-65bb6b55d162",
//    "domain_id": "domain-58010aa2e451"
//}
message ScheduleRequest {
    string schedule_id = 1;
    string domain_id = 2;
}

//{
//    "schedule_id": "sch-3da9c9ed2ee2",
//    "domain_id": "domain-58010aa2e451"
//}
message GetScheduleRequest {
    string schedule_id = 1;
    string domain_id = 2;
    // +optional
    repeated string only = 3;
}

//{
//    "query": {},
//    "domain_id": "domain-58010aa2e451"
//}
message ScheduleQuery {
    // +optional
    spaceone.api.core.v1.Query query = 1;
    // +optional
    string schedule_id = 2;
    // +optional
    string topic = 3;
    // +optional
    string state = 4;
    // +optional
    string resource_type = 5;
    string domain_id = 6;
}

//{
//    "schedule_id": "sch-65bb6b55d162",
//    "topic": "daily_cloud_service_summary_test",
//    "state": "ENABLED",
//    "options": {
//        "aggregate": [
//            {
//                "query": {
//                    "extend_data": {
//                        "label": "Server"
//                    },
//                    "resource_type": "inventory.CloudService",
//                    "query": {
//                        "filter": [
//                            {
//                                "key": "ref_cloud_service_type.is_primary",
//                                "value": true,
//                                "operator": "eq"
//                            },
//                            {
//                                "operator": "eq",
//                                "key": "ref_cloud_service_type.labels",
//                                "value": "Server"
//                            }
//                        ],
//                        "aggregate": [
//                            {
//                                "group": {
//                                    "fields": [
//                                        {
//                                            "operator": "count",
//                                            "name": "value"
//                                        }
//                                    ],
//                                    "keys": [
//                                        {
//                                            "name": "project_id",
//                                            "key": "project_id"
//                                        },
//                                        {
//                                            "name": "cloud_service_type",
//                                            "key": "cloud_service_type"
//                                        },
//                                        {
//                                            "key": "cloud_service_group",
//                                            "name": "cloud_service_group"
//                                        },
//                                        {
//                                            "key": "provider",
//                                            "name": "provider"
//                                        }
//                                    ]
//                                }
//                            }
//                        ]
//                    }
//                }
//            },
//            {
//                "concat": {
//                    "query": {
//                        "aggregate": [
//                            {
//                                "group": {
//                                    "fields": [
//                                        {
//                                            "operator": "count",
//                                            "name": "value"
//                                        }
//                                    ],
//                                    "keys": [
//                                        {
//                                            "name": "project_id",
//                                            "key": "project_id"
//                                        },
//                                        {
//                                            "name": "cloud_service_type",
//                                            "key": "cloud_service_type"
//                                        },
//                                        {
//                                            "key": "cloud_service_group",
//                                            "name": "cloud_service_group"
//                                        },
//                                        {
//                                            "key": "provider",
//                                            "name": "provider"
//                                        }
//                                    ]
//                                }
//                            }
//                        ],
//                        "filter": [
//                            {
//                                "operator": "eq",
//                                "value": true,
//                                "key": "ref_cloud_service_type.is_primary"
//                            },
//                            {
//                                "operator": "eq",
//                                "key": "ref_cloud_service_type.labels",
//                                "value": "Database"
//                            }
//                        ]
//                    },
//                    "resource_type": "inventory.CloudService",
//                    "extend_data": {
//                        "label": "Database"
//                    }
//                }
//            },
//            {
//                "concat": {
//                    "resource_type": "inventory.CloudService",
//                    "query": {
//                        "aggregate": [
//                            {
//                                "group": {
//                                    "fields": [
//                                        {
//                                            "operator": "count",
//                                            "name": "value"
//                                        }
//                                    ],
//                                    "keys": [
//                                        {
//                                            "key": "project_id",
//                                            "name": "project_id"
//                                        },
//                                        {
//                                            "name": "cloud_service_type",
//                                            "key": "cloud_service_type"
//                                        },
//                                        {
//                                            "key": "cloud_service_group",
//                                            "name": "cloud_service_group"
//                                        },
//                                        {
//                                            "name": "provider",
//                                            "key": "provider"
//                                        }
//                                    ]
//                                }
//                            }
//                        ],
//                        "filter": [
//                            {
//                                "key": "ref_cloud_service_type.is_primary",
//                                "value": true,
//                                "operator": "eq"
//                            },
//                            {
//                                "operator": "eq",
//                                "key": "ref_cloud_service_type.labels",
//                                "value": "Container"
//                            }
//                        ]
//                    },
//                    "extend_data": {
//                        "label": "Container"
//                    }
//                }
//            },
//            {
//                "concat": {
//                    "query": {
//                        "aggregate": [
//                            {
//                                "group": {
//                                    "keys": [
//                                        {
//                                            "key": "project_id",
//                                            "name": "project_id"
//                                        },
//                                        {
//                                            "name": "cloud_service_type",
//                                            "key": "cloud_service_type"
//                                        },
//                                        {
//                                            "name": "cloud_service_group",
//                                            "key": "cloud_service_group"
//                                        },
//                                        {
//                                            "key": "provider",
//                                            "name": "provider"
//                                        }
//                                    ],
//                                    "fields": [
//                                        {
//                                            "operator": "count",
//                                            "name": "value"
//                                        }
//                                    ]
//                                }
//                            }
//                        ],
//                        "filter": [
//                            {
//                                "key": "ref_cloud_service_type.is_primary",
//                                "operator": "eq",
//                                "value": true
//                            },
//                            {
//                                "key": "ref_cloud_service_type.labels",
//                                "operator": "eq",
//                                "value": "Networking"
//                            }
//                        ]
//                    },
//                    "resource_type": "inventory.CloudService",
//                    "extend_data": {
//                        "label": "Networking"
//                    }
//                }
//            },
//            {
//                "concat": {
//                    "resource_type": "inventory.CloudService",
//                    "extend_data": {
//                        "label": "Security"
//                    },
//                    "query": {
//                        "filter": [
//                            {
//                                "operator": "eq",
//                                "key": "ref_cloud_service_type.is_primary",
//                                "value": true
//                            },
//                            {
//                                "operator": "eq",
//                                "key": "ref_cloud_service_type.labels",
//                                "value": "Security"
//                            }
//                        ],
//                        "aggregate": [
//                            {
//                                "group": {
//                                    "keys": [
//                                        {
//                                            "name": "project_id",
//                                            "key": "project_id"
//                                        },
//                                        {
//                                            "name": "cloud_service_type",
//                                            "key": "cloud_service_type"
//                                        },
//                                        {
//                                            "name": "cloud_service_group",
//                                            "key": "cloud_service_group"
//                                        },
//                                        {
//                                            "key": "provider",
//                                            "name": "provider"
//                                        }
//                                    ],
//                                    "fields": [
//                                        {
//                                            "name": "value",
//                                            "operator": "count"
//                                        }
//                                    ]
//                                }
//                            }
//                        ]
//                    }
//                }
//            },
//            {
//                "concat": {
//                    "resource_type": "inventory.CloudService",
//                    "query": {
//                        "filter": [
//                            {
//                                "key": "ref_cloud_service_type.is_primary",
//                                "value": true,
//                                "operator": "eq"
//                            },
//                            {
//                                "key": "ref_cloud_service_type.labels",
//                                "value": "Analytics",
//                                "operator": "eq"
//                            }
//                        ],
//                        "aggregate": [
//                            {
//                                "group": {
//                                    "keys": [
//                                        {
//                                            "key": "project_id",
//                                            "name": "project_id"
//                                        },
//                                        {
//                                            "key": "cloud_service_type",
//                                            "name": "cloud_service_type"
//                                        },
//                                        {
//                                            "key": "cloud_service_group",
//                                            "name": "cloud_service_group"
//                                        },
//                                        {
//                                            "key": "provider",
//                                            "name": "provider"
//                                        }
//                                    ],
//                                    "fields": [
//                                        {
//                                            "operator": "count",
//                                            "name": "value"
//                                        }
//                                    ]
//                                }
//                            }
//                        ]
//                    },
//                    "extend_data": {
//                        "label": "Analytics"
//                    }
//                }
//            },
//            {
//                "concat": {
//                    "extend_data": {
//                        "label": "All"
//                    },
//                    "resource_type": "inventory.CloudService",
//                    "query": {
//                        "filter": [
//                            {
//                                "key": "ref_cloud_service_type.is_primary",
//                                "value": true,
//                                "operator": "eq"
//                            }
//                        ],
//                        "aggregate": [
//                            {
//                                "group": {
//                                    "fields": [
//                                        {
//                                            "name": "value",
//                                            "operator": "count"
//                                        }
//                                    ],
//                                    "keys": [
//                                        {
//                                            "key": "project_id",
//                                            "name": "project_id"
//                                        },
//                                        {
//                                            "key": "cloud_service_type",
//                                            "name": "cloud_service_type"
//                                        },
//                                        {
//                                            "key": "cloud_service_group",
//                                            "name": "cloud_service_group"
//                                        },
//                                        {
//                                            "key": "provider",
//                                            "name": "provider"
//                                        }
//                                    ]
//                                }
//                            }
//                        ]
//                    }
//                }
//            },
//            {
//                "concat": {
//                    "resource_type": "inventory.CloudService",
//                    "query": {
//                        "aggregate": [
//                            {
//                                "group": {
//                                    "fields": [
//                                        {
//                                            "operator": "sum",
//                                            "name": "value",
//                                            "key": "data.size"
//                                        }
//                                    ],
//                                    "keys": [
//                                        {
//                                            "name": "project_id",
//                                            "key": "project_id"
//                                        },
//                                        {
//                                            "key": "cloud_service_type",
//                                            "name": "cloud_service_type"
//                                        },
//                                        {
//                                            "name": "cloud_service_group",
//                                            "key": "cloud_service_group"
//                                        },
//                                        {
//                                            "name": "provider",
//                                            "key": "provider"
//                                        }
//                                    ]
//                                }
//                            }
//                        ],
//                        "filter": [
//                            {
//                                "operator": "eq",
//                                "key": "ref_cloud_service_type.is_major",
//                                "value": true
//                            },
//                            {
//                                "value": "Storage",
//                                "operator": "eq",
//                                "key": "ref_cloud_service_type.labels"
//                            }
//                        ]
//                    },
//                    "extend_data": {
//                        "label": "Storage"
//                    }
//                }
//            }
//        ]
//    },
//    "schedule": {
//        "hours": [
//            1
//        ]
//    },
//    "tags": {},
//    "domain_id": "domain-58010aa2e451",
//    "created_at": "2022-07-26T02:08:48.233Z"
//}
message ScheduleInfo {
    enum State {
        NONE = 0;
        ENABLED = 1;
        DISABLED = 2;
    }

    string schedule_id = 1;
    string topic = 2;
    State state = 3;
    google.protobuf.Struct options = 4;
    Scheduled schedule = 5;
    google.protobuf.Struct tags = 6;
    string domain_id = 7;
    string created_at = 8;
    string last_scheduled_at = 9;
}

//{
//    "results": [
//        {
//            "schedule_id": "sch-3da9c9ed2ee2",
//            "topic": "daily_cloud_service_summary",
//            "state": "ENABLED",
//            "options": {
//                "aggregate": [
//                    {
//                        "query": {
//                            "query": {
//                                "aggregate": [
//                                    {
//                                        "group": {
//                                            "keys": [
//                                                {
//                                                    "key": "project_id",
//                                                    "name": "project_id"
//                                                },
//                                                {
//                                                    "name": "cloud_service_type",
//                                                    "key": "cloud_service_type"
//                                                },
//                                                {
//                                                    "name": "cloud_service_group",
//                                                    "key": "cloud_service_group"
//                                                },
//                                                {
//                                                    "key": "provider",
//                                                    "name": "provider"
//                                                }
//                                            ],
//                                            "fields": [
//                                                {
//                                                    "operator": "count",
//                                                    "name": "value"
//                                                }
//                                            ]
//                                        }
//                                    }
//                                ],
//                                "filter": [
//                                    {
//                                        "key": "ref_cloud_service_type.is_primary",
//                                        "operator": "eq",
//                                        "value": true
//                                    },
//                                    {
//                                        "key": "ref_cloud_service_type.labels",
//                                        "value": "Server",
//                                        "operator": "eq"
//                                    }
//                                ]
//                            },
//                            "resource_type": "inventory.CloudService",
//                            "extend_data": {
//                                "label": "Server"
//                            }
//                        }
//                    },
//                    {
//                        "concat": {
//                            "query": {
//                                "aggregate": [
//                                    {
//                                        "group": {
//                                            "keys": [
//                                                {
//                                                    "key": "project_id",
//                                                    "name": "project_id"
//                                                },
//                                                {
//                                                    "name": "cloud_service_type",
//                                                    "key": "cloud_service_type"
//                                                },
//                                                {
//                                                    "name": "cloud_service_group",
//                                                    "key": "cloud_service_group"
//                                                },
//                                                {
//                                                    "key": "provider",
//                                                    "name": "provider"
//                                                }
//                                            ],
//                                            "fields": [
//                                                {
//                                                    "operator": "count",
//                                                    "name": "value"
//                                                }
//                                            ]
//                                        }
//                                    }
//                                ],
//                                "filter": [
//                                    {
//                                        "operator": "eq",
//                                        "key": "ref_cloud_service_type.is_primary",
//                                        "value": true
//                                    },
//                                    {
//                                        "key": "ref_cloud_service_type.labels",
//                                        "operator": "eq",
//                                        "value": "Database"
//                                    }
//                                ]
//                            },
//                            "resource_type": "inventory.CloudService",
//                            "extend_data": {
//                                "label": "Database"
//                            }
//                        }
//                    },
//                    {
//                        "concat": {
//                            "query": {
//                                "aggregate": [
//                                    {
//                                        "group": {
//                                            "keys": [
//                                                {
//                                                    "key": "project_id",
//                                                    "name": "project_id"
//                                                },
//                                                {
//                                                    "name": "cloud_service_type",
//                                                    "key": "cloud_service_type"
//                                                },
//                                                {
//                                                    "name": "cloud_service_group",
//                                                    "key": "cloud_service_group"
//                                                },
//                                                {
//                                                    "key": "provider",
//                                                    "name": "provider"
//                                                }
//                                            ],
//                                            "fields": [
//                                                {
//                                                    "name": "value",
//                                                    "operator": "count"
//                                                }
//                                            ]
//                                        }
//                                    }
//                                ],
//                                "filter": [
//                                    {
//                                        "key": "ref_cloud_service_type.is_primary",
//                                        "operator": "eq",
//                                        "value": true
//                                    },
//                                    {
//                                        "operator": "eq",
//                                        "value": "Container",
//                                        "key": "ref_cloud_service_type.labels"
//                                    }
//                                ]
//                            },
//                            "resource_type": "inventory.CloudService",
//                            "extend_data": {
//                                "label": "Container"
//                            }
//                        }
//                    },
//                    {
//                        "concat": {
//                            "query": {
//                                "filter": [
//                                    {
//                                        "key": "ref_cloud_service_type.is_primary",
//                                        "value": true,
//                                        "operator": "eq"
//                                    },
//                                    {
//                                        "key": "ref_cloud_service_type.labels",
//                                        "operator": "eq",
//                                        "value": "Networking"
//                                    }
//                                ],
//                                "aggregate": [
//                                    {
//                                        "group": {
//                                            "keys": [
//                                                {
//                                                    "key": "project_id",
//                                                    "name": "project_id"
//                                                },
//                                                {
//                                                    "key": "cloud_service_type",
//                                                    "name": "cloud_service_type"
//                                                },
//                                                {
//                                                    "key": "cloud_service_group",
//                                                    "name": "cloud_service_group"
//                                                },
//                                                {
//                                                    "key": "provider",
//                                                    "name": "provider"
//                                                }
//                                            ],
//                                            "fields": [
//                                                {
//                                                    "name": "value",
//                                                    "operator": "count"
//                                                }
//                                            ]
//                                        }
//                                    }
//                                ]
//                            },
//                            "extend_data": {
//                                "label": "Networking"
//                            },
//                            "resource_type": "inventory.CloudService"
//                        }
//                    },
//                    {
//                        "concat": {
//                            "extend_data": {
//                                "label": "Security"
//                            },
//                            "query": {
//                                "filter": [
//                                    {
//                                        "key": "ref_cloud_service_type.is_primary",
//                                        "value": true,
//                                        "operator": "eq"
//                                    },
//                                    {
//                                        "key": "ref_cloud_service_type.labels",
//                                        "value": "Security",
//                                        "operator": "eq"
//                                    }
//                                ],
//                                "aggregate": [
//                                    {
//                                        "group": {
//                                            "keys": [
//                                                {
//                                                    "name": "project_id",
//                                                    "key": "project_id"
//                                                },
//                                                {
//                                                    "name": "cloud_service_type",
//                                                    "key": "cloud_service_type"
//                                                },
//                                                {
//                                                    "name": "cloud_service_group",
//                                                    "key": "cloud_service_group"
//                                                },
//                                                {
//                                                    "name": "provider",
//                                                    "key": "provider"
//                                                }
//                                            ],
//                                            "fields": [
//                                                {
//                                                    "operator": "count",
//                                                    "name": "value"
//                                                }
//                                            ]
//                                        }
//                                    }
//                                ]
//                            },
//                            "resource_type": "inventory.CloudService"
//                        }
//                    },
//                    {
//                        "concat": {
//                            "resource_type": "inventory.CloudService",
//                            "query": {
//                                "filter": [
//                                    {
//                                        "value": true,
//                                        "operator": "eq",
//                                        "key": "ref_cloud_service_type.is_primary"
//                                    },
//                                    {
//                                        "key": "ref_cloud_service_type.labels",
//                                        "operator": "eq",
//                                        "value": "Analytics"
//                                    }
//                                ],
//                                "aggregate": [
//                                    {
//                                        "group": {
//                                            "keys": [
//                                                {
//                                                    "name": "project_id",
//                                                    "key": "project_id"
//                                                },
//                                                {
//                                                    "name": "cloud_service_type",
//                                                    "key": "cloud_service_type"
//                                                },
//                                                {
//                                                    "key": "cloud_service_group",
//                                                    "name": "cloud_service_group"
//                                                },
//                                                {
//                                                    "key": "provider",
//                                                    "name": "provider"
//                                                }
//                                            ],
//                                            "fields": [
//                                                {
//                                                    "name": "value",
//                                                    "operator": "count"
//                                                }
//                                            ]
//                                        }
//                                    }
//                                ]
//                            },
//                            "extend_data": {
//                                "label": "Analytics"
//                            }
//                        }
//                    },
//                    {
//                        "concat": {
//                            "resource_type": "inventory.CloudService",
//                            "query": {
//                                "aggregate": [
//                                    {
//                                        "group": {
//                                            "fields": [
//                                                {
//                                                    "name": "value",
//                                                    "operator": "count"
//                                                }
//                                            ],
//                                            "keys": [
//                                                {
//                                                    "name": "project_id",
//                                                    "key": "project_id"
//                                                },
//                                                {
//                                                    "key": "cloud_service_type",
//                                                    "name": "cloud_service_type"
//                                                },
//                                                {
//                                                    "key": "cloud_service_group",
//                                                    "name": "cloud_service_group"
//                                                },
//                                                {
//                                                    "name": "provider",
//                                                    "key": "provider"
//                                                }
//                                            ]
//                                        }
//                                    }
//                                ],
//                                "filter": [
//                                    {
//                                        "value": true,
//                                        "operator": "eq",
//                                        "key": "ref_cloud_service_type.is_primary"
//                                    }
//                                ]
//                            },
//                            "extend_data": {
//                                "label": "All"
//                            }
//                        }
//                    },
//                    {
//                        "concat": {
//                            "resource_type": "inventory.CloudService",
//                            "extend_data": {
//                                "label": "Storage"
//                            },
//                            "query": {
//                                "filter": [
//                                    {
//                                        "key": "ref_cloud_service_type.is_major",
//                                        "operator": "eq",
//                                        "value": true
//                                    },
//                                    {
//                                        "key": "ref_cloud_service_type.labels",
//                                        "operator": "eq",
//                                        "value": "Storage"
//                                    }
//                                ],
//                                "aggregate": [
//                                    {
//                                        "group": {
//                                            "keys": [
//                                                {
//                                                    "name": "project_id",
//                                                    "key": "project_id"
//                                                },
//                                                {
//                                                    "key": "cloud_service_type",
//                                                    "name": "cloud_service_type"
//                                                },
//                                                {
//                                                    "name": "cloud_service_group",
//                                                    "key": "cloud_service_group"
//                                                },
//                                                {
//                                                    "key": "provider",
//                                                    "name": "provider"
//                                                }
//                                            ],
//                                            "fields": [
//                                                {
//                                                    "name": "value",
//                                                    "operator": "sum",
//                                                    "key": "data.size"
//                                                }
//                                            ]
//                                        }
//                                    }
//                                ]
//                            }
//                        }
//                    }
//                ]
//            },
//            "schedule": {
//                "hours": [
//                    1
//                ]
//            },
//            "tags": {},
//            "domain_id": "domain-58010aa2e451",
//            "created_at": "2022-06-13T11:41:35.811Z"
//        }
//    ],
//    "total_count": 1
//}
message SchedulesInfo {
    repeated ScheduleInfo results = 1;
    int32 total_count = 2;
}

message ScheduleStatQuery {
    spaceone.api.core.v1.StatisticsQuery query = 1;
    string domain_id = 2;
}
